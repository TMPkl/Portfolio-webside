/* Styles for the MetroLine component */

.metro-container {
  /* allows the svg to size itself naturally; parent can control width */
  width: 100%;
}

.metro-svg {
  display: block;
  width: 100%;
  height: auto;
}

/* Main line */
.metro-line {
  fill: none;
  stroke: url(#metroLineGradient);
  stroke-linecap: butt;
  stroke-linejoin: miter;
  filter: url(#softGlow);
}

/* Gradient colors controlled via CSS variables */
/*
  Gradient colors are controlled via CSS variables set on .metro-container or parent.
  Example:
  .metro-container { --metro-gradient-start: #22c55e; --metro-gradient-end: #0ea5e9; }
  You can also add theme classes and pass containerClassName from the component usage.
*/
.metro-container {
  --metro-gradient-start: #1d96ff;
  --metro-gradient-end: #8f00c8;
}
.metro-gradient stop:first-child { stop-color: var(--metro-gradient-start); }
.metro-gradient stop:last-child { stop-color: var(--metro-gradient-end); }

/* Station circles */
.metro-station {
  fill: var(--metro-station-fill, #16a34a);
  stroke: var(--metro-station-stroke, #fff);
  stroke-width: var(--metro-station-stroke-width, 2);
  transition: r 150ms ease, fill 150ms ease, stroke 150ms ease;
}

/* Station labels */
.metro-label {
  font-size: 16px;
  fill: #0f172a;
  user-select: none;
}

/* Group-level customizations via data attributes */
.metro-station-group[data-station-index="0"] .metro-station { --metro-station-fill: #073819; }
.metro-station-group[data-station-index="5"] .metro-station { --metro-station-fill: #062c3d; }


/* Hover/focus states */
.metro-station-group:hover .metro-station {
  --metro-station-stroke: #ffffff;
  --metro-station-stroke-width: 3;
}
.metro-station-group:hover .metro-label {
  font-weight: 600;
}

/* Cursor halo (white shadow near the line) */
.metro-cursor-halo {
  fill: #97d5fb5d;
  opacity: 0.85;
  filter: blur(30px);
}

/* Optional: reduce blur on mobile for performance */
@media (max-width: 640px) {
  .metro-cursor-halo { filter: blur(8px); opacity: 0.8; }
}

/* Wrapper for positioning context if needed */
.metro-details-wrapper {
  position: relative;
}

/* Popover with project details */
.metro-details {
  z-index: 50;
  max-width: 320px;
  background: #0b1220;
  color: #f8fafc;
  border: 1px solid rgba(255,255,255,0.12);
  border-radius: 10px;
  padding: 12px 14px;
  box-shadow:
    0 12px 30px rgba(0,0,0,0.35),
    0 0 0 1px rgba(255,255,255,0.06) inset;
  transform: translateX(0) translateY(-50%);
  pointer-events: auto;
}

.metro-details.side-left { transform: translateX(-100%) translateY(-50%); }
.metro-details.side-right { transform: translateX(0) translateY(-50%); }

.metro-details__header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
  margin-bottom: 8px;
}

.metro-details__title { font-weight: 600; }
.metro-details__close {
  background: transparent;
  border: 0;
  color: #94a3b8;
  font-size: 18px;
  line-height: 1;
  cursor: pointer;
}
.metro-details__close:hover { color: #e2e8f0; }

.metro-details__desc { color: #cbd5e1; font-size: 14px; }

.metro-details__links a {
  color: #93c5fd;
  text-decoration: underline;
}

/* Arrow pointer */
.metro-details__arrow {
  position: absolute;
  top: 50%;
  width: 10px;
  height: 10px;
  background: inherit;
  border-left: inherit;
  border-top: inherit;
  transform: translateY(-50%) rotate(45deg);
}
.metro-details.side-right .metro-details__arrow {
  left: -6px;
}
.metro-details.side-left .metro-details__arrow {
  right: -6px;
}

.metro-details__meta {
  display: flex;
  align-items: center;
  gap: 8px;
  margin: 4px 0 6px;
  color: #94a3b8;
  font-size: 13px;
}
.metro-details__year {
  display: inline-block;
  padding: 2px 8px;
  border-radius: 999px;
  background: rgba(148, 163, 184, 0.15);
  border: 1px solid rgba(148, 163, 184, 0.25);
  color: #e2e8f0;
  font-weight: 600;
}
.metro-details__long {
  margin-top: 6px;
  color: #cbd5e1;
  font-size: 14px;
  line-height: 1.45;
}
